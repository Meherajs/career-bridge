@baseUrl = http://127.0.0.1:3000/api
@token = {{login.response.body.token}}

### ============================================================================
### AI-POWERED FEATURES TEST SUITE
### ============================================================================
### This file contains all AI-related endpoints including skill extraction,
### roadmap generation, career mentoring, and profile assistance.
###
### Prerequisites:
### 1. User must be registered and logged in
### 2. GEMINI_API_KEY or GROQ_API_KEY must be set in backend .env
### 3. User profile should be completed for best results
### ============================================================================

### Quick Login for AI Tests
# @name login
POST {{baseUrl}}/login
Content-Type: application/json

{
  "email": "tamim.sith@example.com",
  "password": "securepass123"
}

###
### ============================================================================
### 1. AI SKILL EXTRACTION
### ============================================================================

### 1.1 Extract Skills from CV (with Profile Update)
POST {{baseUrl}}/ai/extract-skills
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "cv_text": "Senior Full Stack Developer with 5 years of experience in React, Node.js, TypeScript, and AWS. Led a team of 3 developers to build scalable e-commerce platforms. AWS Certified Solutions Architect. Strong skills in agile methodologies, team leadership, and problem-solving.",
  "provider": "gemini",
  "update_profile": true
}

### 1.2 Extract Skills (Preview Only - No Update)
POST {{baseUrl}}/ai/extract-skills
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "cv_text": "Data Scientist with expertise in Python, TensorFlow, and machine learning. Published 3 research papers on deep learning applications. Proficient in statistical analysis, data visualization, and cloud computing.",
  "provider": "gemini",
  "update_profile": false
}

### 1.3 Extract Skills (Using Groq Provider)
POST {{baseUrl}}/ai/extract-skills
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "cv_text": "DevOps Engineer with 4 years of experience in Docker, Kubernetes, Jenkins, and AWS. Automated CI/CD pipelines reducing deployment time by 60%. Expert in infrastructure as code using Terraform.",
  "provider": "groq",
  "update_profile": false
}

###
### ============================================================================
### 2. CAREER ROADMAP GENERATION (ENHANCED)
### ============================================================================

### 2.1 Generate Roadmap with Custom Parameters (6 months, 10 hrs/week)
POST {{baseUrl}}/ai/roadmap
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "target_role": "Full Stack Developer",
  "timeframe_months": 6,
  "learning_hours_per_week": 10,
  "include_current_skills": true,
  "provider": "gemini"
}

### 2.2 Generate Roadmap (Fast Track - 3 months, 20 hrs/week)
POST {{baseUrl}}/ai/roadmap
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "target_role": "Frontend Developer",
  "timeframe_months": 3,
  "learning_hours_per_week": 20,
  "include_current_skills": true,
  "provider": "gemini"
}

### 2.3 Generate Roadmap (Extended - 12 months, 5 hrs/week)
POST {{baseUrl}}/ai/roadmap
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "target_role": "Data Scientist",
  "timeframe_months": 12,
  "learning_hours_per_week": 5,
  "include_current_skills": false,
  "provider": "gemini"
}

### 2.4 Generate DevOps Roadmap
POST {{baseUrl}}/ai/roadmap
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "target_role": "DevOps Engineer",
  "timeframe_months": 6,
  "learning_hours_per_week": 15,
  "include_current_skills": true,
  "provider": "gemini"
}

### 2.5 Generate Mobile Development Roadmap
POST {{baseUrl}}/ai/roadmap
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "target_role": "React Native Developer",
  "timeframe_months": 4,
  "learning_hours_per_week": 12,
  "include_current_skills": true,
  "provider": "groq"
}

### 2.6 Get All Saved Roadmaps
GET {{baseUrl}}/ai/roadmaps
Authorization: Bearer {{token}}

### 2.7 Get Specific Roadmap by ID
GET {{baseUrl}}/ai/roadmaps/1
Authorization: Bearer {{token}}

### 2.8 Update Roadmap Progress
PUT {{baseUrl}}/ai/roadmaps/1/progress
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "progress_percentage": 45,
  "completed_phases": [1, 2],
  "notes": "Completed first two phases. Frontend fundamentals are solid. Starting backend development next week."
}

### 2.9 Update Roadmap Progress (Phase 3 Complete)
PUT {{baseUrl}}/ai/roadmaps/1/progress
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "progress_percentage": 65,
  "completed_phases": [1, 2, 3],
  "notes": "Finished backend basics. Built a REST API project. Moving to database design."
}

### 2.10 Update Roadmap Notes Only
PUT {{baseUrl}}/ai/roadmaps/1/progress
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "notes": "Taking a break this week due to work commitments. Will resume next Monday."
}

### 2.11 Delete Roadmap
DELETE {{baseUrl}}/ai/roadmaps/1
Authorization: Bearer {{token}}

###
### ============================================================================
### 3. CAREER MENTOR CHATBOT
### ============================================================================

### 3.1 Ask Career Question - Skill Focus
POST {{baseUrl}}/ai/ask-mentor
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "question": "What skills should I focus on to transition from frontend to full stack development?",
  "provider": "gemini"
}

### 3.2 Ask Career Question - Preparation
POST {{baseUrl}}/ai/ask-mentor
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "question": "How can I prepare for a senior developer role in the next 6 months?",
  "provider": "gemini"
}

### 3.3 Ask Career Question - Job Search
POST {{baseUrl}}/ai/ask-mentor
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "question": "What's the best strategy for landing my first tech job as a self-taught developer?",
  "provider": "gemini"
}

### 3.4 Ask Career Question - Salary Negotiation
POST {{baseUrl}}/ai/ask-mentor
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "question": "How should I negotiate salary for a junior developer position?",
  "provider": "groq"
}

### 3.5 Ask Career Question - Remote Work
POST {{baseUrl}}/ai/ask-mentor
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "question": "What skills are most important for remote software development positions?",
  "provider": "gemini"
}

###
### ============================================================================
### 4. CV/PROFILE ASSISTANT
### ============================================================================

### 4.1 Generate Professional Summary
POST {{baseUrl}}/ai/generate-summary
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "provider": "gemini"
}

### 4.2 Improve Project Descriptions
POST {{baseUrl}}/ai/improve-projects
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "projects": [
    "Built a todo app with React",
    "Created an e-commerce website",
    "Developed a chat application"
  ],
  "provider": "gemini"
}

### 4.3 Improve Complex Project Descriptions
POST {{baseUrl}}/ai/improve-projects
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "projects": [
    "Made a task management system",
    "Built an API for a mobile app",
    "Created a dashboard with charts"
  ],
  "provider": "groq"
}

### 4.4 Get LinkedIn Profile Suggestions
POST {{baseUrl}}/ai/profile-suggestions
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "platform": "linkedin",
  "provider": "gemini"
}

### 4.5 Get Portfolio Website Suggestions
POST {{baseUrl}}/ai/profile-suggestions
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "platform": "portfolio",
  "provider": "gemini"
}

### 4.6 Get GitHub Profile Suggestions
POST {{baseUrl}}/ai/profile-suggestions
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "platform": "github",
  "provider": "gemini"
}

###
### ============================================================================
### 5. GENERIC AI ACTION (FLEXIBLE ENDPOINT)
### ============================================================================

### 5.1 Generic AI - Extract Skills
POST {{baseUrl}}/ai/action
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "action": "extract_skills",
  "provider": "gemini",
  "input": "John Doe - Senior Software Engineer with expertise in React, Node.js, and AWS. 5+ years of experience building scalable applications."
}

### 5.2 Generic AI - Generate Roadmap
POST {{baseUrl}}/ai/action
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "action": "generate_roadmap",
  "provider": "gemini",
  "input": "Backend Development with Python",
  "parameters": {
    "current_skills": "HTML, CSS, JavaScript basics",
    "timeframe_months": 6,
    "learning_hours_per_week": 10
  }
}

### 5.3 Generic AI - Ask Question
POST {{baseUrl}}/ai/action
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "action": "ask_question",
  "provider": "gemini",
  "input": "What are the best programming languages to learn for web development in 2025?",
  "parameters": {
    "context": "I'm a beginner with no programming experience"
  }
}

### 5.4 Generic AI - Generate Content
POST {{baseUrl}}/ai/action
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "action": "generate_content",
  "provider": "gemini",
  "input": "Write a cover letter for a Junior Frontend Developer position",
  "parameters": {
    "content_type": "cover_letter",
    "tone": "professional",
    "length": "medium"
  }
}

###
### ============================================================================
### 6. COMPLETE AI WORKFLOW TEST
### ============================================================================
### This demonstrates a full AI-assisted career development journey

### Step 1: Login
# @name aiWorkflowLogin
POST {{baseUrl}}/login
Content-Type: application/json

{
  "email": "tamim.sith@example.com",
  "password": "securepass123"
}

### Step 2: Extract Skills from CV and Update Profile
POST {{baseUrl}}/ai/extract-skills
Authorization: Bearer {{aiWorkflowLogin.response.body.token}}
Content-Type: application/json

{
  "cv_text": "Full Stack Developer with 3 years of experience. Proficient in React, Node.js, TypeScript, PostgreSQL, Docker, and AWS. Built and deployed 5+ production applications. Strong problem-solving and team collaboration skills.",
  "provider": "gemini",
  "update_profile": true
}

### Step 3: Generate Personalized Career Roadmap
POST {{baseUrl}}/ai/roadmap
Authorization: Bearer {{aiWorkflowLogin.response.body.token}}
Content-Type: application/json

{
  "target_role": "Senior Full Stack Developer",
  "timeframe_months": 6,
  "learning_hours_per_week": 15,
  "include_current_skills": true,
  "provider": "gemini"
}

### Step 4: Ask Career Mentor for Advice
POST {{baseUrl}}/ai/ask-mentor
Authorization: Bearer {{aiWorkflowLogin.response.body.token}}
Content-Type: application/json

{
  "question": "What advanced skills should I focus on to move from mid-level to senior developer?",
  "provider": "gemini"
}

### Step 5: Generate Professional Summary
POST {{baseUrl}}/ai/generate-summary
Authorization: Bearer {{aiWorkflowLogin.response.body.token}}
Content-Type: application/json

{
  "provider": "gemini"
}

### Step 6: Improve Project Descriptions
POST {{baseUrl}}/ai/improve-projects
Authorization: Bearer {{aiWorkflowLogin.response.body.token}}
Content-Type: application/json

{
  "projects": [
    "E-commerce Platform",
    "Task Management App",
    "Real-time Chat Application"
  ],
  "provider": "gemini"
}

### Step 7: Get LinkedIn Profile Suggestions
POST {{baseUrl}}/ai/profile-suggestions
Authorization: Bearer {{aiWorkflowLogin.response.body.token}}
Content-Type: application/json

{
  "platform": "linkedin",
  "provider": "gemini"
}

### Step 8: View All Roadmaps
GET {{baseUrl}}/ai/roadmaps
Authorization: Bearer {{aiWorkflowLogin.response.body.token}}

### Step 9: Update Roadmap Progress
PUT {{baseUrl}}/ai/roadmaps/1/progress
Authorization: Bearer {{aiWorkflowLogin.response.body.token}}
Content-Type: application/json

{
  "progress_percentage": 30,
  "completed_phases": [1],
  "notes": "Completed fundamentals phase. Working through advanced React patterns."
}

### Step 10: Ask Another Career Question
POST {{baseUrl}}/ai/ask-mentor
Authorization: Bearer {{aiWorkflowLogin.response.body.token}}
Content-Type: application/json

{
  "question": "How do I demonstrate leadership skills when applying for senior roles?",
  "provider": "gemini"
}

###
### ============================================================================
### 7. PROVIDER COMPARISON TESTS
### ============================================================================
### Test the same requests with different AI providers

### 7.1 Extract Skills - Gemini
POST {{baseUrl}}/ai/extract-skills
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "cv_text": "Python developer with Django and FastAPI experience. Data analysis skills.",
  "provider": "gemini",
  "update_profile": false
}

### 7.2 Extract Skills - Groq
POST {{baseUrl}}/ai/extract-skills
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "cv_text": "Python developer with Django and FastAPI experience. Data analysis skills.",
  "provider": "groq",
  "update_profile": false
}

### 7.3 Generate Roadmap - Gemini
POST {{baseUrl}}/ai/roadmap
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "target_role": "Python Developer",
  "timeframe_months": 6,
  "learning_hours_per_week": 10,
  "include_current_skills": false,
  "provider": "gemini"
}

### 7.4 Generate Roadmap - Groq
POST {{baseUrl}}/ai/roadmap
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "target_role": "Python Developer",
  "timeframe_months": 6,
  "learning_hours_per_week": 10,
  "include_current_skills": false,
  "provider": "groq"
}

###
