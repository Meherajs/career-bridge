@baseUrl = http://127.0.0.1:3000/api
@token = {{login.response.body.token}}

### ============================================================================
### SYSTEM HEALTH
### ============================================================================

### Health Check
GET http://127.0.0.1:3000/

###
### ============================================================================
### 1. AUTHENTICATION & AUTHORIZATION
### ============================================================================

### 1.1 Register New User
POST {{baseUrl}}/register
Content-Type: application/json

{
  "full_name": "Tamim",
  "email": "tamim.sith@example.com",
  "password": "securepass123"
}

### 1.2 Login (Standard Email/Password)
# @name login
POST {{baseUrl}}/login
Content-Type: application/json

{
  "email": "tamim.sith@example.com",
  "password": "securepass123"
}

### 1.3 OAuth - Google Login
# Opens browser for Google OAuth flow
# Redirects to: http://localhost:3001/auth/callback?token=<JWT>&new_user=<true|false>
GET {{baseUrl}}/auth/google

### 1.4 OAuth - GitHub Login
# Opens browser for GitHub OAuth flow
# Redirects to: http://localhost:3001/auth/callback?token=<JWT>&new_user=<true|false>
GET {{baseUrl}}/auth/github

###
### ============================================================================
### 2. PROFILE MANAGEMENT
### ============================================================================

### 2.1 Get Current Profile
GET {{baseUrl}}/profile
Authorization: Bearer {{token}}

### 2.2 Complete Profile (Onboarding)
POST {{baseUrl}}/profile/complete
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "education_level": "Bachelor's Degree in Computer Science",
  "experience_level": "junior",
  "preferred_track": "web_development",
  "skills": ["JavaScript", "React", "Node.js", "TypeScript", "PostgreSQL"],
  "projects": ["E-commerce Platform", "Task Management App", "Portfolio Website"],
  "target_roles": ["Full Stack Developer", "Frontend Developer", "React Developer"]
}

### 2.3 Update Profile
PUT {{baseUrl}}/profile
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "full_name": "Jane Smith",
  "education_level": "Bachelor's in Computer Science",
  "experience_level": "mid",
  "skills": ["JavaScript", "React", "Node.js", "TypeScript", "PostgreSQL", "Docker"],
  "projects": ["E-commerce Platform", "Task Management App", "Portfolio Website", "Microservices API"],
  "target_roles": ["Full Stack Developer", "Senior Frontend Developer", "Tech Lead"],
  "raw_cv_text": "Experienced developer with 3 years of experience in web development..."
}

### 2.4 Upload CV/Resume (PDF)
POST {{baseUrl}}/profile/cv/upload
Authorization: Bearer {{token}}
Content-Type: multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW

------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="cv_file"; filename="resume.pdf"
Content-Type: application/pdf

< ../resume.pdf
------WebKitFormBoundary7MA4YWxkTrZu0gW--

###
### ============================================================================
### 3. JOB RECOMMENDATIONS
### ============================================================================

### 3.1 Get All Job Recommendations
GET {{baseUrl}}/jobs/recommendations
Authorization: Bearer {{token}}

### 3.2 Get Job Recommendations (Filtered by Experience)
GET {{baseUrl}}/jobs/recommendations?experience_level=junior&limit=5
Authorization: Bearer {{token}}

### 3.3 Get Job Recommendations (Filtered by Job Type)
GET {{baseUrl}}/jobs/recommendations?job_type=full_time&limit=10
Authorization: Bearer {{token}}

### 3.4 Get Job Recommendations (Multiple Filters)
GET {{baseUrl}}/jobs/recommendations?experience_level=mid&job_type=full_time&limit=3
Authorization: Bearer {{token}}

###
### ============================================================================
### 4. LEARNING RESOURCES
### ============================================================================

### 4.1 Get Personalized Learning Recommendations
GET {{baseUrl}}/learning/recommendations
Authorization: Bearer {{token}}

###
### ============================================================================
### 5. SKILL GAP ANALYSIS
### ============================================================================

### 5.1 Analyze Skill Gap for Full Stack Developer
GET {{baseUrl}}/skill-gap/Full Stack Developer
Authorization: Bearer {{token}}

### 5.2 Analyze Skill Gap for Frontend Developer
GET {{baseUrl}}/skill-gap/Frontend Developer
Authorization: Bearer {{token}}

### 5.3 Analyze Skill Gap for Data Analyst
GET {{baseUrl}}/skill-gap/Data Analyst
Authorization: Bearer {{token}}

### 5.4 Analyze Skill Gap for DevOps Engineer
GET {{baseUrl}}/skill-gap/DevOps Engineer
Authorization: Bearer {{token}}

###
### ============================================================================
### 6. APPLICATION TRACKING
### ============================================================================

### 6.1 Create Job Application 
POST {{baseUrl}}/applications
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "job_id": 1,
  "notes": "Applied via company website. Submitted resume and cover letter."
}

### 6.2 Get My Applications
GET {{baseUrl}}/applications
Authorization: Bearer {{token}}

### 6.3 Update Application Status - Interview
PUT {{baseUrl}}/applications/1
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "status": "interview_scheduled",
  "notes": "Phone interview scheduled for Monday at 10am"
}

### 6.4 Update Application Status - Offer
PUT {{baseUrl}}/applications/1
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "status": "offer_received",
  "notes": "Received offer! Salary: $85k. Need to respond by Friday."
}

### 6.5 Update Application Status - Rejected
PUT {{baseUrl}}/applications/2
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "status": "rejected",
  "notes": "Not selected for this position. Will apply again in 6 months."
}

###
### ============================================================================
### 7. PROGRESS TRACKING
### ============================================================================

### 7.1 Start Learning Resource
POST {{baseUrl}}/progress/resource/1/start
Authorization: Bearer {{token}}

### 7.2 Update Progress (25%)
PUT {{baseUrl}}/progress/resource/1
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "completion_percentage": 25
}

### 7.3 Update Progress (50%)
PUT {{baseUrl}}/progress/resource/1
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "completion_percentage": 50
}

### 7.4 Update Progress (75%)
PUT {{baseUrl}}/progress/resource/1
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "completion_percentage": 75
}

### 7.5 Complete Resource (100%)
PUT {{baseUrl}}/progress/resource/1
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "completion_percentage": 100
}

### 7.6 Get My Progress (All Resources)
GET {{baseUrl}}/progress
Authorization: Bearer {{token}}

###
### ============================================================================
### 8. COMPLETE USER WORKFLOW TEST
### ============================================================================
### This section demonstrates a complete user journey through core features

### Step 1: Register New User
POST {{baseUrl}}/register
Content-Type: application/json

{
  "full_name": "Sarah Johnson",
  "email": "sarah.johnson@example.com",
  "password": "sarahpass123"
}

### Step 2: Login
# @name workflowLogin
POST {{baseUrl}}/login
Content-Type: application/json

{
  "email": "sarah.johnson@example.com",
  "password": "sarahpass123"
}

### Step 3: Complete Profile
POST {{baseUrl}}/profile/complete
Authorization: Bearer {{workflowLogin.response.body.token}}
Content-Type: application/json

{
  "education_level": "B.S. Computer Science",
  "experience_level": "junior",
  "preferred_track": "web_development",
  "skills": ["HTML", "CSS", "JavaScript", "React"],
  "projects": ["Portfolio Website", "Todo App"],
  "target_roles": ["Frontend Developer", "Web Developer"]
}

### Step 4: Get Job Recommendations
GET {{baseUrl}}/jobs/recommendations?experience_level=junior&limit=5
Authorization: Bearer {{workflowLogin.response.body.token}}

### Step 5: Analyze Skill Gap
GET {{baseUrl}}/skill-gap/Frontend Developer
Authorization: Bearer {{workflowLogin.response.body.token}}

### Step 6: Get Learning Resources
GET {{baseUrl}}/learning/recommendations
Authorization: Bearer {{workflowLogin.response.body.token}}

### Step 7: Start Learning Resource
POST {{baseUrl}}/progress/resource/1/start
Authorization: Bearer {{workflowLogin.response.body.token}}

### Step 8: Create Job Application
POST {{baseUrl}}/applications
Authorization: Bearer {{workflowLogin.response.body.token}}
Content-Type: application/json

{
  "job_id": 1,
  "notes": "Applied for Frontend Developer position. Perfect match for my skills!"
}

### Step 9: Get My Applications
GET {{baseUrl}}/applications
Authorization: Bearer {{workflowLogin.response.body.token}}

### Step 10: Update Learning Progress
PUT {{baseUrl}}/progress/resource/1
Authorization: Bearer {{workflowLogin.response.body.token}}
Content-Type: application/json

{
  "completion_percentage": 50
}

### Step 11: Check Overall Progress
GET {{baseUrl}}/progress
Authorization: Bearer {{workflowLogin.response.body.token}}

###
